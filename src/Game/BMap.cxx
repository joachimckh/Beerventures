#include "BMap.h"
#include "BTextureManager.h"

int lvl1[20][25] = {
  {0,0,0,1,1,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,1,1,1,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,1,1,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
};

BMap::BMap() :
sDirt(BTextureManager::LoadTexture("../Assets/dirt.png")),
sGrass(BTextureManager::LoadTexture("../Assets/grass.png")),
sWater(BTextureManager::LoadTexture("../Assets/water.png"))
{
  LoadMap(lvl1);

  src.x = src.y = 0;
  src.h = src.w = 32;
  dst.x = dst.y = 0;
  dst.h = dst.w = 32;
}
BMap::~BMap()
{}
void BMap::LoadMap(int arr[20][25]){
  for (int i(0); i<20; i++){
    for (int j(0); j<25; j++){
      map[i][j] = arr[i][j];
    }
  }
}
void BMap::DrawMap(){
  int type(0);

  // row;col
  for (int i(0); i<20; i++){
    for (int j(0); j<25; j++){
      type = map[i][j];

      dst.x = j * 32;
      dst.y = i * 32;
      switch(type){
        case 0:
          BTextureManager::Draw(sWater,src,dst);
          break;
        case 1:
          BTextureManager::Draw(sGrass,src,dst);
          break;
        case 2:
          BTextureManager::Draw(sDirt,src,dst);
          break;
        default:
          break;
      }

    }
  }
}